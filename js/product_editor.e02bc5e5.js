"use strict";(self["webpackChunkhomework_14"]=self["webpackChunkhomework_14"]||[]).push([[289],{3164:function(t,e,r){r.r(e),r.d(e,{default:function(){return P}});var n=r(3396),o=r(9242),u=r(7139);const i={class:"editor"},a={class:"editor__item"},c={class:"editor__image"},s=["src","alt"],d={class:"editor__item"},l={class:"editor__item"},h={class:"editor__action"},g={key:0,class:"err-msg"};function p(t,e,r,p,m,f){const v=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",a,[(0,n._)("div",c,[(0,n._)("img",{src:m.currentProduct.img,alt:m.currentProduct.name},null,8,s)]),(0,n._)("label",null,[(0,n.Uk)(" Image "),(0,n._)("input",{type:"file",accept:"image/png, image/gif, image/jpeg, image/jpg, image/svg",onChange:e[0]||(e[0]=(...t)=>f.onFileChange&&f.onFileChange(...t))},null,32)])]),(0,n._)("div",d,[(0,n._)("label",null,[(0,n.Uk)(" Name "),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>m.currentProduct.name=t),type:"text"},null,512),[[o.nr,m.currentProduct.name]])])]),(0,n._)("div",l,[(0,n._)("label",null,[(0,n.Uk)(" Price "),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>m.currentProduct.price=t),type:"number"},null,512),[[o.nr,m.currentProduct.price]])])]),(0,n._)("div",h,[(0,n._)("button",{class:"editor__button",onClick:e[3]||(e[3]=(...t)=>f.onAction&&f.onAction(...t))},(0,u.zw)(f.actionButtonTitle),1),(0,n.Wm)(v,{to:{name:"product_editor-list"},class:"editor__button"},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1})]),t.errorMessage?((0,n.wg)(),(0,n.iD)("div",g,(0,u.zw)(t.errorMessage),1)):(0,n.kq)("",!0)])}r(560),r(8858),r(1318),r(3228);var m=r(65),f={name:"ProductEditor",data(){return{currentProduct:{}}},computed:{...(0,m.Se)(["getProductById","errorMessage"]),currentProductId(){return this.$route.params.productId},actionButtonTitle(){return this.currentProductId?"Зберегти":"Додати"}},created(){this.currentProduct={...this.getProductById(this.currentProductId)}},methods:{...(0,m.nv)(["addProduct","updateProduct","setErrorMessage"]),onAction(){this.currentProduct.name&&this.currentProduct.price?(this.currentProductId?this.updateProduct(this.currentProduct):this.addProduct(this.currentProduct),this.$router.push({name:"product_editor-list"}),this.setErrorMessage(null)):(this.setErrorMessage("Заповнення всіх полів є обов'язковим"),setTimeout((()=>{this.setErrorMessage(null)}),2e3))},onFileChange(t){const e=t.target.files[0];e&&(this.currentProduct.img=URL.createObjectURL(e))}}},v=r(89);const _=(0,v.Z)(f,[["render",p]]);var P=_},926:function(t,e,r){var n=r(3043),o=r(9985),u=r(6648),i=r(4201),a=i("toStringTag"),c=Object,s="Arguments"===u(function(){return arguments}()),d=function(t,e){try{return t[e]}catch(r){}};t.exports=n?u:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=d(e=c(t),a))?r:s?u(e):"Object"===(n=u(e))&&o(e.callee)?"Arguments":n}},2148:function(t,e,r){var n=r(8702),o=r(2560);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),o.f(t,e,r)}},3043:function(t,e,r){var n=r(4201),o=n("toStringTag"),u={};u[o]="z",t.exports="[object z]"===String(u)},4327:function(t,e,r){var n=r(926),o=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},1500:function(t){var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},8858:function(t,e,r){var n=r(1880),o=r(8844),u=r(4327),i=r(1500),a=URLSearchParams,c=a.prototype,s=o(c.append),d=o(c["delete"]),l=o(c.forEach),h=o([].push),g=new a("a=1&a=2&b=3");g["delete"]("a",1),g["delete"]("b",void 0),g+""!=="a=2"&&n(c,"delete",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return d(this,t);var n=[];l(this,(function(t,e){h(n,{key:e,value:t})})),i(e,1);var o,a=u(t),c=u(r),g=0,p=0,m=!1,f=n.length;while(g<f)o=n[g++],m||o.key===a?(m=!0,d(this,o.key)):p++;while(p<f)o=n[p++],o.key===a&&o.value===c||s(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},1318:function(t,e,r){var n=r(1880),o=r(8844),u=r(4327),i=r(1500),a=URLSearchParams,c=a.prototype,s=o(c.getAll),d=o(c.has),l=new a("a=1");!l.has("a",2)&&l.has("a",void 0)||n(c,"has",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return d(this,t);var n=s(this,t);i(e,1);var o=u(r),a=0;while(a<n.length)if(n[a++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},3228:function(t,e,r){var n=r(7697),o=r(8844),u=r(2148),i=URLSearchParams.prototype,a=o(i.forEach);n&&!("size"in i)&&u(i,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=product_editor.e02bc5e5.js.map